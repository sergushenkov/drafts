Довольно комфортно писать в процедурном стиле - программа собирается из кубиков, логика каждого отдельного элемента вся на виду. Главный минус - процедуры обращаются к глобальным переменным и меняют их. И если внутрь процедур переменные можно передавать явно (хотя довольно сильно замусорит читабельность), то проблему с изменением глобальных переменных так просто не решить. Заменить процедуры на функции, чтобы глобальные переменные менялись явно - сразу запутает код, по факту вернёт к монолиту. 

Из сравнения с образцом - ещё три замечения:
1) названия state и new_state лучше, чем current_state и next_state у меня;
2) понравилась идея с выносом печати в отдельную процедуру transfer_to_cleaner() - реально более удобно на случай расширения функционала,
3) в образце нет внутреннего статуса - работает ли режим уборки или нет, т.е. команды  start/stop просто выводятся на печать, ничего не меняя.