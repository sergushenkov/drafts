С этим заданием проблема - иммутабельные состояния предпологают скорее какой то другой язык программирования, отличный от python. Посмотрев проекты - нашёл несколько мест, где после передачи списка или множества, делаю .copy(). Теоретически, здесь можно было бы передавать неизменяемый тип, но по факту копия структуры данных используется для того, чтобы её изменить, без изменений исходника. Т.е. иммутабельность тут ни к месту будет. То что попытался изменить на функциональный стиль (где иммутабельность более привычна), выигрыша в наглядности не дало, скорее наоборот.